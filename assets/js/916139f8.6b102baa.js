"use strict";(self.webpackChunkdoc_website=self.webpackChunkdoc_website||[]).push([[2636],{5912:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var s=t(4848),o=t(8453);const r={},a="ES6-Class",l={id:"others/js/es6-5.class",title:"ES6-Class",description:"ES6 \u7684class\u53ef\u4ee5\u770b\u4f5c\u53ea\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u6ce8\u610f\u4ee5\u4e0b\u51e0\u4e2a\u53ef\u80fd\u4f1a\u72af\u9519\u8bef\u7684\u70b9\u3002",source:"@site/docs/others/js/es6-5.class.md",sourceDirName:"others/js",slug:"/others/js/es6-5.class",permalink:"/blog-fe/docs/others/js/es6-5.class",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"othersSidebar",previous:{title:"ES6-\u6a21\u5757\u8be6\u89e3",permalink:"/blog-fe/docs/others/js/es6-4.module"},next:{title:"\u8f93\u5165URL\u80cc\u540e\u7684\u6280\u672f\u6b65\u9aa4",permalink:"/blog-fe/docs/others/js/http-base-1.url"}},c={},i=[{value:"1. \u5b9e\u4f8b\u5c5e\u6027\u548c\u539f\u578b\u65b9\u6cd5",id:"1-\u5b9e\u4f8b\u5c5e\u6027\u548c\u539f\u578b\u65b9\u6cd5",level:2},{value:"2. this \u6307\u5411",id:"2-this-\u6307\u5411",level:2},{value:"3. \u7ee7\u627f\u65f6\u7684\u539f\u578b\u94fe",id:"3-\u7ee7\u627f\u65f6\u7684\u539f\u578b\u94fe",level:2},{value:"4. ES5\u548cES6\u7ee7\u627f\u7684\u4e0d\u540c",id:"4-es5\u548ces6\u7ee7\u627f\u7684\u4e0d\u540c",level:2}];function p(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"es6-class",children:"ES6-Class"}),"\n",(0,s.jsx)(e.p,{children:"ES6 \u7684class\u53ef\u4ee5\u770b\u4f5c\u53ea\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u6ce8\u610f\u4ee5\u4e0b\u51e0\u4e2a\u53ef\u80fd\u4f1a\u72af\u9519\u8bef\u7684\u70b9\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"1-\u5b9e\u4f8b\u5c5e\u6027\u548c\u539f\u578b\u65b9\u6cd5",children:"1. \u5b9e\u4f8b\u5c5e\u6027\u548c\u539f\u578b\u65b9\u6cd5"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"\u5b9e\u4f8b\u5c5e\u6027"}),"\u9664\u4e86\u5b9a\u4e49\u5728constructor()\u65b9\u6cd5\u91cc\u9762\u7684this\u4e0a\u9762\uff0c\u4e5f\u53ef\u4ee5",(0,s.jsx)(e.code,{children:"\u5b9a\u4e49\u5728\u7c7b\u7684\u6700\u9876\u5c42\uff08\u7b49\u4e8e\u53f7\u8d4b\u503c\uff09"}),"\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"\u7c7b\u4e2d\u7684\u65b9\u6cd5\u662f\u5b9a\u4e49\u5728\u539f\u578b\u94fe\u4e0a\uff08Animal.prototyp\uff09"}),"\uff0c\u5305\u62ecgetter/setter\u51fd\u6570\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u8be6\u7ec6\u53ef\u770b",(0,s.jsx)(e.a,{href:"https://babeljs.io/repl#?browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=MYGwhgzhAECCB2BLAtmE0De0BQ1oQAcBTMAawAoBKTXPaAJyIBcBXe-aJgC0QgG5aAX1q1CJYKQCM0ALzQqsgHw06DZmw7deQkXgDmzaAXoB7Agoy08jVu2gByA0yZF69gXmHDs2IA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=script&lineWrap=true&presets=es2015%2Cstage-0&prettier=false&targets=&version=7.9.0&externalPlugins=",children:"Babel Class\u89e3\u6790\u4e3aES5\u7684\u4ee3\u7801"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"class Animal {\n  // \u5b9e\u4f8b\u5c5e\u6027\uff0c\u5b9a\u4e49\u5728\u7c7b\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\uff08a.speak1)\n  name = 'MyAnimal'\n  speak1 = () => {\n    return this\n  }\n\n  // \u539f\u578b\u94fe\u65b9\u6cd5\uff0c\u5b9a\u4e49\u5728\u539f\u578b\u4e0a\uff08Animal.prototype.speak\uff09\n  speak() {\n    return this;\n  }\n  // get\u4e5f\u662f\u5b9a\u4e49\u5728\u539f\u578b\u4e0a\uff08Animal.prototype.[get getName]\uff09\n  get getName() {\n    return this.name\n  }\n}\n\nconst a = new Animal()\nconsole.log(a) // { name: 'MyAnimal', speak1: f , __proto__: {constructor, speak, ...} }\n"})}),"\n",(0,s.jsx)(e.h2,{id:"2-this-\u6307\u5411",children:"2. this \u6307\u5411"}),"\n",(0,s.jsx)(e.p,{children:"\u5b9e\u4f8b\u5c5e\u6027this\u5728\u5b9a\u4e49\u65f6\u5c31\u5df2\u786e\u5b9a\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\uff08\u7bad\u5934\u51fd\u6570\uff09\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u7684\u65b9\u6cd5\uff08\u5305\u62ecget/set\u51fd\u6570\uff09this\u9ed8\u8ba4\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\uff0c\u4f46\u4e00\u65e6\u9047\u5230\u89e3\u6784\u65f6\uff08\u4e0a\u4e0b\u6587\u73af\u5883\u53d8\u5316\uff09\uff0cthis\u7684\u503c\u53ef\u80fd\u53d8\u5316\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"class Animal {\n  // \u5b9e\u4f8b\u5c5e\u6027\u3002this\u5728\u4e66\u5199\u4ee3\u7801\u65f6\uff0c\u5c31\u5df2\u7ecf\u786e\u5b9a\u4e3a\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\uff08\u7bad\u5934\u51fd\u6570\uff09\n  speak1 = () => {\n    console.log(this, 'speak1') // \u5728\u4ee3\u7801\n    return this\n  }\n\n  // \u539f\u578b\u94fe\u65b9\u6cd5\u3002this\u4f9d\u8d56\u4e8e\u8fd0\u884c\u73af\u5883\uff0c\u9ed8\u8ba4\u662f\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\n  speak() {\n    console.log(this, 'speak')\n    return this;\n  }\n}\n\nlet a = new Animal()\na.speak() // a\na.speak1() // a\n\nlet { speak, speak1 } = a\nspeak() // undefined\u3002\u91cd\u8981\uff1a\u89e3\u6784\u540e\u539f\u578b\u94fe\u4e0a\u7684\u65b9\u6cd5\uff0cthis\u4e3aundefined\nspeak1() // a\n"})}),"\n",(0,s.jsx)(e.h2,{id:"3-\u7ee7\u627f\u65f6\u7684\u539f\u578b\u94fe",children:"3. \u7ee7\u627f\u65f6\u7684\u539f\u578b\u94fe"}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u7ee7\u627f\u65f6\uff0c\u5c5e\u6027\u662f\u76f4\u63a5\u7ee7\u627f\uff0c\u800c\u539f\u578b\u94fe\u4e0a\u7684\u65b9\u6cd5\u662f\u4e00\u5c42\u4e00\u5c42\u7684\u7ee7\u627f\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"class B extends Animal {\n    b1 = () => {\n        console.log(this)\n    }\n    b() {\n        console.log(this)\n    }\n}\n\n// B(\u5c5e\u6027)->B.prototype -> A.prototype\nconsole.log(new B()) // { speak1, b1, __proto__(B): {b, __proto__(A): {speak} } }\n\nclass C extends B {\n    c1 = () => {\n        console.log(this)\n    }\n    c() {\n        console.log(this)\n    }\n}\n// C(\u5c5e\u6027) -> C.prototype ->B.prototype -> A.prototype\nconsole.log(new C()) // { speak1, b1, c1, __proto__(C): {c, __proto__(B): {b, __proto__(A):{speak} } } }\n"})}),"\n",(0,s.jsx)(e.h2,{id:"4-es5\u548ces6\u7ee7\u627f\u7684\u4e0d\u540c",children:"4. ES5\u548cES6\u7ee7\u627f\u7684\u4e0d\u540c"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ES5\u7684\u7ee7\u627f"}),"\uff0c\u5b9e\u8d28\u662f\u5148\u521b\u9020\u5b50\u7c7b\u7684\u5b9e\u4f8b\u5bf9\u8c61this\uff0c\u7136\u540e\u518d\u5c06\u7236\u7c7b\u7684\u65b9\u6cd5\u6dfb\u52a0\u5230this\u4e0a\u9762\uff08Parent.apply(this)\uff09\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ES6\u7684\u7ee7\u627f"}),"\u5219\u4e0d\u540c\uff0c\u5728\u5355\u91cd\u7ee7\u627f\u65f6\uff0c\u57fa\u672c\u540cES5\u4e00\u81f4\uff1b\u5f53\u591a\u91cd\u7ee7\u627f\u65f6\uff0c\u5b50\u7c7b\u81ea\u5df1\u7684this\u5bf9\u8c61\uff0c\u5fc5\u987b\u5148\u901a\u8fc7\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u5b8c\u6210\u5851\u9020\uff0c\u5f97\u5230\u4e0e\u7236\u7c7b\u540c\u6837\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u7136\u540e\u518d\u5bf9\u5176\u8fdb\u884c\u52a0\u5de5\uff0c\u52a0\u4e0a\u5b50\u7c7b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8be6\u7ec6\u770b\u4ee5\u4e0bbabel es6\u8f6ces5 _possibleConstructorReturn\u5e94\u7528\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"es6\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"class Person {\n  static body = 'bofy';\n  constructor(age) {\n    this.name = 123\n    this.age = age\n  }\n\n  getName() {\n    return this.name\n  }\n}\n\nclass Doctor extends Person {\n    constructor(age) {\n      super(age)\n      this.skill = 'shoushu'\n    }\n}\n\n// \u591a\u91cd\u7ee7\u627f\nclass Superman extends Doctor {\n}\n\nvar d = new Doctor(35)\nd.name\n"})}),"\n",(0,s.jsx)(e.p,{children:"babel \u8f6c\u8bd1\u4e3a es5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'"use strict";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj &&\n        typeof Symbol === "function" &&\n        obj.constructor === Symbol &&\n        obj !== Symbol.prototype\n        ? "symbol"\n        : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  // call\u6709\u503c\uff0c\u5219\u8fd4\u56decall\n  if (call && (_typeof(call) === "object" || typeof call === "function")) {\n    return call;\n  }\n  return self\n}\n\nfunction _getPrototypeOf(o) {\n  // setPrototypeOf\u662fES6\u63d0\u6848\n  _getPrototypeOf = Object.setPrototypeOf\n    ? Object.getPrototypeOf\n    : function _getPrototypeOf(o) {\n        // getPrototypeOf\u5728ES5\u5c31\u6709\uff0c\u53ea\u662fES6\u4e2d\u6709\u4e00\u4e9b\u6539\u52a8\n        return o.__proto__ || Object.getPrototypeOf(o);\n      };\n  return _getPrototypeOf(o);\n}\n\n// \u539f\u578b\u94fe\u7ee7\u627f\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function");\n  }\n  // \u5b9e\u73b0\u7ee7\u627f\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: { value: subClass, writable: true, configurable: true }\n  });\n  // \u8bbe\u7f6esubClass.__proto__ = superClass\uff0c\u4e3a\u7684\u662fgetPrototypOf\u65f6\u80fd\u62ff\u5230superClass\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u3002\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf =\n    Object.setPrototypeOf ||\n    function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _instanceof(left, right) {\n  if (\n    right != null &&\n    typeof Symbol !== "undefined" &&\n    right[Symbol.hasInstance]\n  ) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\n// \u53ea\u5141\u8bb8new\u65b9\u5f0f\u521b\u5efaclass\nfunction _classCallCheck(instance, Constructor) {\n  if (!_instanceof(instance, Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar Person =\n  /*#__PURE__*/\n  (function() {\n    function Person(age) {\n      // \u68c0\u67e5\u5fc5\u987b\u4f7f\u7528new\u5173\u952e\u5b57\u521b\u5efa\u7c7b\u5b9e\u4f8b\n      _classCallCheck(this, Person);\n\n      this.name = 123;\n      this.age = age;\n    }\n\n    // class\u4e2d\u7684\u65b9\u6cd5\uff0c\u90fd\u662f\u5728Person.prototype\n    // class\u4e2d\u7684\u9759\u6001\u5c5e\u6027\uff0c\u90fd\u662f\u5728Person\u4e0a\n    _createClass(Person, [\n      {\n        key: "getName",\n        value: function getName() {\n          return this.name;\n        }\n      }\n    ]);\n\n    return Person;\n  })();\n\n_defineProperty(Person, "body", "bofy");\n\nvar Doctor =\n  /*#__PURE__*/\n  (function(_Person) {\n    // Doctor\u7ee7\u627f\u81eaPerson\n    // Doctor.prototype.__proto__ === Person.prototype(\u56e0\u4e3aDoctor.prototype = Object.create(Person.prototype))\n    // Doctor.__proto__ === Person(\u56e0\u4e3aObject.setPrototypeOf(Doctor, Person))\n    _inherits(Doctor, _Person);\n\n    function Doctor() {\n      var _this;\n\n      _classCallCheck(this, Doctor);\n\n      /**\n       * \u5b50\u7c7b\u5fc5\u987b\u5728constructor\u65b9\u6cd5\u4e2d\u8c03\u7528super\u65b9\u6cd5\uff0c\u5426\u5219\u65b0\u5efa\u5b9e\u4f8b\u65f6\u4f1a\u62a5\u9519\u3002\n       * \u7b49\u540c\u4e8e\n       * _this = Person.call(this, age) \uff1fPerson.call(this, age)   : this\n       * \u5728\u5355\u91cd\u7ee7\u627f\u65f6\uff0cPerson.call()\u6267\u884c\u540e\u8fd4\u56de\u7a7a\uff1b\u591a\u91cd\u7ee7\u627f\u65f6\uff0c Person.call()\u6709\u503c\u8fd4\u56de\n      * **/\n      _this = _possibleConstructorReturn(\n        this,\n        _getPrototypeOf(Doctor).call(this, age)\n      );\n\n      _this.skill = "shoushu";\n      // \u8fd4\u56dethis\u3002\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\uff0cthis\u662f\u7236\u7c7b\u7684this\uff08\u5373\uff1a\u5b50\u7c7b\u5b9e\u4f8b\u7684\u6784\u5efa\uff0c\u57fa\u4e8e\u7236\u7c7b\u5b9e\u4f8b\u3002\uff09\n      return _this;\n    }\n\n    return Doctor;\n  })(Person);\n\nvar Superman =\n/*#__PURE__*/\nfunction (_Doctor) {\n  _inherits(Superman, _Doctor);\n\n  function Superman() {\n    _classCallCheck(this, Superman);\n\n    /**\n      * class\u6709\u591a\u91cd\u7ee7\u627f\u7279\u5f81\uff0c\u6b64\u65f6\u5b50\u7c7b\u81ea\u5df1\u7684this\u5bf9\u8c61\uff0c\u5fc5\u987b\u5148\u901a\u8fc7\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u5b8c\u6210\u5851\u9020\uff0c\u5f97\u5230\u4e0e\u7236\u7c7b\u540c\u6837\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u7136\u540e\u518d\u5bf9\u5176\u8fdb\u884c\u52a0\u5de5\uff0c\u52a0\u4e0a\u5b50\u7c7b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\n    **/\n    return _possibleConstructorReturn(this, _getPrototypeOf(Superman).apply(this, arguments));\n  }\n\n  return Superman;\n}(Doctor);\n\nvar d = new Doctor(35);\nd.name;\n'})})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(p,{...n})}):p(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>l});var s=t(6540);const o={},r=s.createContext(o);function a(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);