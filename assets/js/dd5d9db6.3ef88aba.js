"use strict";(self.webpackChunkdoc_website=self.webpackChunkdoc_website||[]).push([[7383],{3409:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=t(4848),o=t(8453);const s={},a="\u7f16\u7801\u9898",i={id:"others/interview/interview-code",title:"\u7f16\u7801\u9898",description:"1. \u7ea2\u7eff\u706f\u5b9e\u73b0",source:"@site/docs/others/interview/interview-code.md",sourceDirName:"others/interview",slug:"/others/interview/interview-code",permalink:"/blog-fe/docs/others/interview/interview-code",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"othersSidebar",next:{title:"HTTP",permalink:"/blog-fe/docs/others/interview/interview-http"}},l={},c=[{value:"1. \u7ea2\u7eff\u706f\u5b9e\u73b0",id:"1-\u7ea2\u7eff\u706f\u5b9e\u73b0",level:3},{value:"1. \u7b97\u6cd5\u9898\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u91d1\u989d\u7684\u6574\u94b1n\uff0c\u8fd8\u67092\uff0c3\uff0c5\u5143\u4e09\u79cd\u8d27\u5e01\uff0c\u8981\u4f60\u8ba1\u7b97\u51fa\u6240\u6709\u80fd\u51d1\u51fa\u6574\u94b1\u7684\u7ec4\u5408\u4e2a\u6570\u3002",id:"1-\u7b97\u6cd5\u9898\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u91d1\u989d\u7684\u6574\u94b1n\u8fd8\u6709235\u5143\u4e09\u79cd\u8d27\u5e01\u8981\u4f60\u8ba1\u7b97\u51fa\u6240\u6709\u80fd\u51d1\u51fa\u6574\u94b1\u7684\u7ec4\u5408\u4e2a\u6570",level:3}];function u(n){const e={code:"code",h1:"h1",h3:"h3",pre:"pre",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"\u7f16\u7801\u9898",children:"\u7f16\u7801\u9898"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u5b9e\u73b0 (5).add(3).minus(2) \u529f\u80fd\nNumber.prototype.add = function(n) {\n  return this.valueOf() + n;\n};\nNumber.prototype.minus = function(n) {\n  return this.valueOf() - n;\n};\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u7f16\u7a0b\u9898\uff0c\u6839\u636e\u4ee5\u4e0b\u8981\u6c42\uff0c\u5199\u4e00\u4e2a\u6570\u7ec4\u53bb\u91cd\u51fd\u6570\n// \u5f97\u8003\u8651\u5230\u6570\u636e\u7c7b\u578b\u4e3anull,undefind\u7b49\u7c7b\u578b \u5305\u62ec\u6570\u636e\u4e3a\u5bf9\u8c61\u65f6key\u987a\u5e8f\u4e0d\u540c\u7684\u95ee\u9898\nfunction isObj(obj){\n return Object.prototype.toString.call(obj) === '[object Object]'\n}\n// \u5bf9\u8c61\u91cd\u6574 \u5bf9key\u8fdb\u884c\u6392\u5e8f\nfunction parseObj(obj){\n\tlet keys = Object.keys(obj).sort()\n\tlet newObj = {}\n\tfor(let key of keys){\n               // \u4e0d\u6653\u5f97\u6709\u6ca1\u6709\u6709\u5fc5\u8981\uff0c\u53cd\u6b63\u628avalue\u4e3aobj\u7684\u60c5\u51b5\u4e5f\u5904\u7406\u4e00\u4e0b - -\n                obj[key]=isObj(obj[key])?parseObj(obj[key]):obj[key]\n\t\tnewObj[key] = obj[key]\n\t}\n\treturn newObj\n}\n\n// \u6700\u540e\nconst arr = [1,'1',{a:1,b:\"1\"},{b:'1',a:1},{a:1,b:2},[1,2,3],null,undefined,undefined]\nfunction passArr(arr){\n\treturn [...new Set(arr.map(item=>\n\t\tisObj(item)? JSON.stringify(parseObj(item)) : ( !item ? item : JSON.stringify(item))\n    ))].map(item=>!item?item : JSON.parse(item))\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u67d0\u516c\u53f8 1 \u5230 12 \u6708\u4efd\u7684\u9500\u552e\u989d\u5b58\u5728\u4e00\u4e2a\u5bf9\u8c61\u91cc\u9762\uff0c\u5982\u4e0b\uff1a{1:222, 2:123, 5:888}\uff0c\u8bf7\u628a\u6570\u636e\u5904\u7406\u4e3a\u5982\u4e0b\u7ed3\u6784\uff1a[222, 123, null, null, 888, null, null, null, null, null, null, null]\u3002\nlet obj = {1:222, 2:123, 5:888};\nconst result = Array.from({ length: 12 }).map((_, index) => obj[index + 1] || null);\nconsole.log(result)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u5982\u4f55\u628a\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u5927\u5c0f\u5199\u53d6\u53cd\uff08\u5927\u5199\u53d8\u5c0f\u5199\u5c0f\u5199\u53d8\u5927\u5199\uff09\uff0c\u4f8b\u5982 \u2019AbC' \u53d8\u6210 'aBc' \nfunction processString (s) {\n    return s.split('').map((item) => {\n        return item === item.toUpperCase() ? item.toLowerCase() : item.toUpperCase();\n    }).join('');\n}\nconsole.log(processString('AbC'));\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u6a21\u62df\u5b9e\u73b0\u4e00\u4e2a Promise.finally\nPromise.prototype.finally = function (callback) {\n  let P = this.constructor;\n  return this.then(\n    value  => P.resolve(callback()).then(() => value),\n    reason => P.resolve(callback()).then(() => { throw reason })\n  );\n};\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u8981\u6c42\u8bbe\u8ba1 LazyMan \u7c7b\uff0c\u5b9e\u73b0\u4ee5\u4e0b\u529f\u80fd\u3002\nLazyMan('Tony');\n// Hi I am Tony\n\nLazyMan('Tony').sleep(10).eat('lunch');\n// Hi I am Tony\n// \u7b49\u5f85\u4e8610\u79d2...\n// I am eating lunch\n\nLazyMan('Tony').eat('lunch').sleep(10).eat('dinner');\n// Hi I am Tony\n// I am eating lunch\n// \u7b49\u5f85\u4e8610\u79d2...\n// I am eating diner\n\nLazyMan('Tony').eat('lunch').eat('dinner').sleepFirst(5).sleep(10).eat('junk food');\n// Hi I am Tony\n// \u7b49\u5f85\u4e865\u79d2...\n// I am eating lunch\n// I am eating dinner\n// \u7b49\u5f85\u4e8610\u79d2...\n// I am eating junk food\n\nclass LazyManClass {\n    constructor(name) {\n        this.taskList = [];\n        this.name = name;\n        console.log(`Hi I am ${this.name}`);\n        setTimeout(() => {\n            this.next(); // \u5c3e\u8c03\u7528\n        }, 0);\n    }\n    eat (name) {\n        var that = this;\n        var fn = (function (n) {\n            return function () {\n                console.log(`I am eating ${n}`)\n                that.next();\n            }\n        })(name);\n        this.taskList.push(fn);\n        return this;\n    }\n    sleepFirst (time) {\n        var that = this;\n        var fn = (function (t) {\n            return function () {\n                setTimeout(() => {\n                    console.log(`\u7b49\u5f85\u4e86${t}\u79d2...`)\n                    that.next();\n                }, t * 1000);  \n            }\n        })(time);\n        this.taskList.unshift(fn);\n        return this;\n    }\n    sleep (time) {\n        var that = this\n        var fn = (function (t) {\n            return function () {\n                setTimeout(() => {\n                    console.log(`\u7b49\u5f85\u4e86${t}\u79d2...`)\n                    that.next();\n                }, t * 1000); \n            }\n        })(time);\n        this.taskList.push(fn);\n        return this;\n    }\n    next () {\n        var fn = this.taskList.shift();\n        fn && fn();\n    }\n}\nfunction LazyMan(name) {\n    return new LazyManClass(name);\n}\nLazyMan('Tony').eat('lunch').eat('dinner').sleepFirst(5).sleep(4).eat('junk food');\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u5b9e\u73b0 convert \u65b9\u6cd5\uff0c\u628a\u539f\u59cb list \u8f6c\u6362\u6210\u6811\u5f62\u7ed3\u6784\uff0c\u8981\u6c42\u5c3d\u53ef\u80fd\u964d\u4f4e\u65f6\u95f4\u590d\u6742\u5ea6\n// \u539f\u59cb list \u5982\u4e0b\n// let list =[\n//     {id:1,name:'\u90e8\u95e8A',parentId:0},\n//     {id:2,name:'\u90e8\u95e8B',parentId:0},\n//     {id:3,name:'\u90e8\u95e8C',parentId:1},\n//     {id:4,name:'\u90e8\u95e8D',parentId:1},\n//     {id:5,name:'\u90e8\u95e8E',parentId:2},\n//     {id:6,name:'\u90e8\u95e8F',parentId:3},\n//     {id:7,name:'\u90e8\u95e8G',parentId:2},\n//     {id:8,name:'\u90e8\u95e8H',parentId:4}\n// ];\n// const result = convert(list, ...);\n\n// \u601d\u8def\uff1alist\u8f6c\u4e3amap\u5bf9\u8c61\uff0c\u518d\u5904\u7406map\u5bf9\u8c61\nfunction convert(list) {\n\tconst res = []\n\tconst map = list.reduce((res, v) => (res[v.id] = v, res), {})\n\tfor (const item of list) {\n\t\tif (item.parentId === 0) {\n\t\t\tres.push(item)\n\t\t\tcontinue\n\t\t}\n\t\tif (item.parentId in map) {\n\t\t\tconst parent = map[item.parentId]\n\t\t\tparent.children = parent.children || []\n\t\t\tparent.children.push(item)\n\t\t}\n\t}\n\treturn res\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u5df2\u77e5\u6570\u636e\u683c\u5f0f\uff0c\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 fn \u627e\u51fa\u94fe\u6761\u4e2d\u6240\u6709\u7684\u7236\u7ea7 id\n// \u6df1\u5ea6\u904d\u5386\nconst fn = (data, value) => {\n  let res = []\n  const dfs = (arr, temp = []) => {\n    for (const node of arr) {\n        // \u6ee1\u8db3\u6761\u4ef6\u76f4\u63a5return\n        if (node.id === value) {\n            res = temp\n            return\n        } else if(node.children) {\n            dfs(node.children, temp.concat(node.id)) // \u6bcf\u6b21\u4f20\u5165\u5b83\u7684id\u94fe\u8def\n        }\n    }\n  }\n  dfs(data)\n  return res\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'// \u7b80\u6613proxy\u7248\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\n<body>\n  hello,world\n  <input type="text" id="model">\n  <p id="word"></p>\n</body>\n<script>\n  const model = document.getElementById("model")\n  const word = document.getElementById("word")\n  var obj= {};\n\n  const newObj = new Proxy(obj, {\n      get: function(target, key, receiver) {\n        console.log(`getting ${key}!`);\n        return Reflect.get(target, key, receiver);\n      },\n      set: function(target, key, value, receiver) {\n        console.log(\'setting\',target, key, value, receiver);\n        if (key === "text") {\n          model.value = value;\n          word.innerHTML = value;\n        }\n        return Reflect.set(target, key, value, receiver);\n      }\n    });\n\n  model.addEventListener("keyup",function(e){\n    newObj.text = e.target.value\n  })\n<\/script>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"1-\u7ea2\u7eff\u706f\u5b9e\u73b0",children:"1. \u7ea2\u7eff\u706f\u5b9e\u73b0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'function button(color, time) {\n    let p = new Promise(function (resolve, reject) {\n        console.log(color, time)\n        setTimeout(function() {\n            resolve(true)\n        }, time);\n    });\n    return p;\n}\nfunction flash() {\n    button("red", 3000) // after last task end, which means the last task will need 3s\n    .then( (v) => {\n        console.log(v);\n        return button("yellow", 1000); // last spend 3s\n    }).then( (v) => {\n        console.log(v);\n        return button("green", 1000); // last spend 1s\n    }).then( (v) => {\n        console.log(v);\n    });\n}\nflash()\n'})}),"\n",(0,r.jsx)(e.h3,{id:"1-\u7b97\u6cd5\u9898\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u91d1\u989d\u7684\u6574\u94b1n\u8fd8\u6709235\u5143\u4e09\u79cd\u8d27\u5e01\u8981\u4f60\u8ba1\u7b97\u51fa\u6240\u6709\u80fd\u51d1\u51fa\u6574\u94b1\u7684\u7ec4\u5408\u4e2a\u6570",children:"1. \u7b97\u6cd5\u9898\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u91d1\u989d\u7684\u6574\u94b1n\uff0c\u8fd8\u67092\uff0c3\uff0c5\u5143\u4e09\u79cd\u8d27\u5e01\uff0c\u8981\u4f60\u8ba1\u7b97\u51fa\u6240\u6709\u80fd\u51d1\u51fa\u6574\u94b1\u7684\u7ec4\u5408\u4e2a\u6570\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// \u7b28\u529e\u6cd5\uff0c\u7eaf\u5faa\u73af\nfunction countMoney(total) {\n    if (total < 2) return 0;\n\n    var result = 0;\n    var maxAmount = total / 2; // \u6700\u5c0f\u9762\u5e01\u662f2\uff0c\u6240\u4ee5\u9664\u4ee52\n    for (var i = 0; i <= maxAmount; i++) { // 5\n        for (var j = 0; j <= maxAmount; j++) { // 3\n            for (var k = 0; k <= maxAmount; k++) { // 2\n                var sum = i * 5 + j * 3 + k * 2;\n                if (sum == total) {\n                    result++;\n                    break;\n                } else if (sum > total) {\n                    break;\n                }\n            }\n        }\n    }\n    return result;\n}\nconsole.log(countMoney(10));\n\n// \u627e\u89c4\u5f8b\uff0c\u9012\u5f52\nvar inputMoneyArray = [2,3,5];\ninputMoneyArray.sort().reverse(); // \u4ece\u5927\u5230\u5c0f\u6392\u5e8f\nfunction countMoney(amount, moneyArr) {\n    // \u9012\u5f52\u7ed3\u675f\u6761\u4ef6\n    if (amount != 0 && moneyArr.length == 0) return 0; // \u4e0d\u6ee1\u8db3\n    if (amount == 0) return 1; // \u6ee1\u8db3\n\n    let [first, ...smallerMoneyArr] = moneyArr // \u53d6\u51fa\u7b2c\u4e00\u4e2a\u503cfirst\n    var sum = 0;\n    for (var i = 0; i <= amount / first; i++) { // amount / first\u662f\u6700\u5c0f\u5faa\u73af\u6b21\u6570\n        var remainingAmount = amount - (first * i); // \u9664\u53bb\u7b2c\u4e00\u4e2a\u503cfirst\uff0c\u5269\u4f59\u91d1\u989d\n        sum += countMoney(remainingAmount, smallerMoneyArr); // \u9012\u5f52\u8c03\u7528\n    }\n    return sum;\n}\nvar result = countMoney(10, inputMoneyArray);\n"})})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>i});var r=t(6540);const o={},s=r.createContext(o);function a(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);